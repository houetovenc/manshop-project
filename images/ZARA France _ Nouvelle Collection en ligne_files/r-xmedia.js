(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[6],{159:function(e,t,n){"use strict";var o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.XMEDIA_FORMAT_TYPES=void 0,t.buildXmediaUrl=v,t.getBestImageUrl=y,t.getVideoSource=O,t.getVirtualWidth=g,t.getWatermarkUrl=function(e){if(!e)return null;const t=function(e,t){const n=function(e,t){if(i.default.xmediaTransformations&&i.default.xmediaTransformations.length&&e.transformations&&e.transformations.length){const n=i.default.xmediaTransformations.find(n=>e.transformations.indexOf(n.name)>-1&&n.type===t);return n&&n.meta.xmedia||[]}return[]}(e,t);let o=n.find(t=>t.kind===e.kind);o||(o=n.find(e=>"other"===e.kind));return o}(e,"watermark"),n=p.find(e=>"svg"===e.codecs);if(t&&n)return v(t,n,null,!0);return null},t.getXmediaBaseUrl=void 0,t.loadVideo=function(e,t,o,a){const r=t.offsetWidth,i=g(r),c=y(d(d({},e),{type:"image"}),r);if("hls"!==e.type)o(c,O(e,i));else{if(!m.hls)return o(c);const r=h(m.hls,i),d=e.hlsUrl||v(e,r,null,!0);if(function(){const e=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!o}())n.e(726).then(n.t.bind(null,3059,7)).then(n=>{let{default:r}=n;const s=new r({autoStartLoad:!0,capLevelToPlayerSize:!0});s.on(r.Events.MANIFEST_PARSED,(function(e,t){let n=0;for(let e=0;e<t.levels.length&&(n=e,!(t.levels[e].width>i));e++);s.autoLevelCapping=n,o(c,null,s)})),s.once(r.Events.ERROR,()=>{e.hlsUrl||(s.destroy(),o(c,O(e,i)))}),s.on(r.Events.SUBTITLE_TRACKS_UPDATED,()=>{const e=E(s.subtitleTracks);if(void 0!==e&&s.subtitleTracks.map(t=>{t.default=e===t.id}),a){const e=s.subtitleTracks.reduce((e,t)=>[...e,...t.forced?[]:[{id:t.id,langCode:t.lang,langName:t.name,active:t.default}]],[]);a(e,e=>{s.subtitleTrack=e})}}),s.loadSource(d),s.attachMedia(t)});else if("probably"===(s="hls",document.createElement("video").canPlayType({ogg:'video/ogg; codecs="theora"',h264:'video/mp4; codecs="avc1.42E01E"',webm:'video/webm; codecs="vp8, vorbis"',vp9:'video/webm; codecs="vp9"',hls:'application/x-mpegURL; codecs="avc1.42E01E"'}[s]||s))){const e=e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((e,t)=>({id:t,langCode:e.language,langName:e.label,active:"showing"===e.mode,track:e}))}([...e.target]),n=E(t);if(void 0!==n&&t.forEach(e=>{e.track.mode=n===e.id?"showing":"disabled"}),a){const e=e=>{if(t.forEach(e=>{e.track.mode="disabled"}),null!==e){var n;const o=null===(n=t.find(t=>t.id===e))||void 0===n?void 0:n.track;o&&(o.mode="showing")}};a(t,e)}};t.textTracks.onaddtrack=e,t.textTracks.onchange=e,o(c,{type:"application/x-mpegURL",url:d})}else o(c,O(e,i))}var s},t.xmediaFormats=void 0;var a=o(n(2)),r=n(11),i=o(n(5));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const s={SMALL:135,MEDIUM:560,LARGE:1024,EXTRALARGE:1920};function l(e){switch(e){case"image":case"vector":case"png":case"3dadvanced":case"spin360":return i.default.imageBaseUrl;case"video":case"hls":return i.default.videoBaseUrl}}const u={IMAGE_FORMAT:"image",VIDEO_FORMAT:"video",VECTOR_FORMAT:"vector",PNG_FORMAT:"png",HLS_FORMAT:"hls",ADVANCED_3D_FORMAT:"3dadvanced",SPIN_360:"spin360"};t.XMEDIA_FORMAT_TYPES=u;t.getXmediaBaseUrl=e=>l(e);const f={vector:["pdf"]};const p=i.default.xmediaFormats.sort((e,t)=>e.width>t.width?1:-1);t.xmediaFormats=p;const m=p.reduce((e,t)=>{var n;return e[t.type]=e[t.type]||{formats:[],cache:{}},(f[(n=t).type]||[]).includes(n.extension)||e[t.type].formats.push(t),e},{});function v(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.url)return e.url;const a="."+t.extension,r=n||t.width;let i;return e&&e.name?(i=~e.name.indexOf(".")?e.name.replace(/\d.$/,a):e.name.concat(a),o?"".concat(l(t.type),"/").concat(e.path,"/").concat(i,"?ts=").concat(e.timestamp):"".concat(l(t.type),"/").concat(e.path,"/w/").concat(r,"/").concat(i,"?ts=").concat(e.timestamp)):""}function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.formats,a=e.cache[t],c="ceil"!==n.strategy&&r.canUseDOM&&zara&&zara.expApi&&~zara.expApi.activatedExperiments.indexOf("request-smaller-product-image");let s,l,u;if(a)return a;if(!c&&i.default.store.useXmediaRealWidth&&o.length)return e.cache[t]=d(d({},o[0]),{},{width:t}),e.cache[t];for(l=0,u=o.length;l<u;l++)if(s=o[l],s.width>=t)return e.cache[t]=o[c&&l?l-1:l],e.cache[t];return e.cache[t]=o[o.length-1],o[o.length-1]}function g(e,t){const n=t&&t.forcedDevicePixelRatio||(r.canUseDOM?Math.min(devicePixelRatio||1,2):1);return Math.ceil(e*n)}function y(e,t,n){const o=e.type||"image";let a;if(!e)return"";"string"==typeof t&&(t=s[t]||560),a=g(t,n);const r=h(m[o],a,n),i="vector"===r.type;return v(e,r,r.width,i)}function O(e,t){const n=h(m.video,t);return{url:v(e,n),type:"video/".concat(n.extension)}}const E=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null===(e=t.find(e=>e.lang===i.default.langCode||e.langCode===i.default.langCode))||void 0===e?void 0:e.id}}}]);